<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enciclop√©dia de Indicadores Financeiros - PME</title>
  <style>
    body {
      background: #1c2230;
      color: #f5f6fa;
      font-family: 'Segoe UI', Arial, sans-serif;
      margin: 0;
      padding: 0;
      min-height: 100vh;
    }
    .container {
      max-width: 1200px;
      margin: 40px auto;
      background: #242b3d;
      padding: 32px 24px 24px 24px;
      border-radius: 18px;
      box-shadow: 0 8px 36px #10121a70;
    }
    h1 {
      text-align: center;
      font-size: 2.7rem;
      margin-bottom: 8px;
      letter-spacing: 2px;
      color: #ffd700;
      text-shadow: 1px 1px 8px #fff00055;
    }
    .desc {
      text-align: center;
      color: #e2e2e2;
      font-size: 1.09rem;
      max-width: 670px;
      margin: 0 auto 30px auto;
      font-weight: 400;
      opacity: 0.94;
    }
    .tabs {
      display: flex;
      gap: 18px;
      margin-bottom: 22px;
      border-bottom: 1.5px solid #33395a;
    }
    .tab {
      color: #ffd700cc;
      background: none;
      border: none;
      font-size: 1.09rem;
      font-weight: bold;
      cursor: pointer;
      padding: 9px 17px 8px 17px;
      border-radius: 11px 11px 0 0;
      transition: background .13s, color .15s;
    }
    .tab.active, .tab:hover {
      background: #ffd70014;
      color: #ffd700;
    }
    .toolbar {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 25px;
      gap: 14px;
      flex-wrap: wrap;
    }
    .search {
      flex: 1;
      min-width: 210px;
      padding: 8px 13px;
      border-radius: 9px;
      border: none;
      font-size: 1.05rem;
      outline: none;
      background: #1e253a;
      color: #f8f9fd;
      margin-right: 12px;
      box-shadow: 0 1px 5px #0002;
      border: 1px solid #353b5a;
      transition: border 0.2s;
    }
    .search:focus { border: 1.5px solid #ffd70099; }
    .select {
      background: #242b3d;
      color: #ffd700;
      border-radius: 7px;
      border: 1px solid #353b5a;
      font-size: 1rem;
      padding: 7px 10px;
      outline: none;
      margin-left: 0;
    }
    .grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
      gap: 26px;
    }
    .card {
      background: #303a57;
      border-radius: 16px;
      box-shadow: 0 2px 10px #0005;
      padding: 18px 16px 18px 16px;
      text-align: center;
      position: relative;
      transition: transform 0.15s, box-shadow 0.15s;
      min-height: 410px;
      overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start;
      cursor: pointer;
    }
    .card:hover {
      transform: translateY(-7px) scale(1.035);
      box-shadow: 0 10px 40px #ffd70060;
    }
    .indicador-img {
      width: 80px;
      height: 80px;
      margin-bottom: 8px;
      object-fit: contain;
      background: #22294a;
      border-radius: 50%;
      border: 3px solid #ffd70080;
      margin-top: 8px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      color: #ffd700;
      box-shadow: 0 1px 5px #ffd70040;
      transition: box-shadow 0.2s;
    }
    .indicador-nome {
      font-size: 1.16rem;
      font-weight: 700;
      color: #ffd700;
      margin: 6px 0 2px 0;
      letter-spacing: 1.2px;
      text-shadow: 1px 1px 5px #fff00066;
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 7px;
    }
    .help {
      font-size: 1rem;
      color: #60e1ff;
      margin-left: 4px;
      cursor: pointer;
      vertical-align: middle;
      transition: color .18s;
    }
    .help:hover { color: #ffd700; }
    .tooltip {
      display: none;
      position: absolute;
      z-index: 99;
      background: #181f36;
      color: #fff2b7;
      padding: 7px 11px;
      border-radius: 8px;
      font-size: 0.99rem;
      box-shadow: 0 3px 18px #ffd70011;
      top: 32px; left: 50%;
      transform: translateX(-50%);
      min-width: 120px;
      max-width: 320px;
      pointer-events: none;
      border: 1.5px solid #ffd70066;
      animation: fadeIn .18s;
    }
    .indicador-categoria {
      font-size: 0.93rem;
      font-weight: 500;
      color: #60e1ff;
      margin-bottom: 8px;
    }
    .indicador-descricao {
      font-size: 0.96rem;
      line-height: 1.5;
      color: #f3f4fa;
      margin-bottom: 0;
      margin-top: 4px;
      flex: 1;
    }
    .indicador-exemplo {
      color: #d5faff;
      font-size: 0.92rem;
      margin-top: 10px;
      background: #22294a;
      padding: 7px 8px;
      border-radius: 10px;
      border: 1px solid #60e1ff30;
      box-shadow: 0 0 7px #8cf0f021;
      font-style: italic;
    }
    .tag {
      display: inline-block;
      padding: 2px 8px;
      margin: 1px 2px;
      border-radius: 12px;
      font-size: 0.85rem;
      background: #26367b;
      color: #b7f9fd;
      border: 1px solid #60e1ff55;
    }
    /* Modal */
    .modal-bg {
      position: fixed;
      top: 0; left: 0; right: 0; bottom: 0;
      background: #11192cbb;
      z-index: 99;
      display: flex;
      align-items: center;
      justify-content: center;
      animation: fadeIn .18s;
    }
    .modal-content {
      background: #242b3d;
      color: #f5f6fa;
      border-radius: 15px;
      padding: 28px 30px 26px 30px;
      min-width: 320px;
      max-width: 95vw;
      width: 430px;
      box-shadow: 0 8px 38px #10121a80;
      position: relative;
      animation: growIn .22s;
    }
    .modal-close {
      position: absolute;
      top: 16px;
      right: 20px;
      font-size: 1.2rem;
      color: #ffd700;
      cursor: pointer;
      opacity: 0.92;
      background: none;
      border: none;
    }
    .modal-nome {
      font-size: 1.3rem;
      color: #ffd700;
      font-weight: 700;
      margin-bottom: 7px;
      display: flex;
      align-items: center;
      gap: 7px;
    }
    .modal-categoria {
      font-size: 0.95rem;
      margin-bottom: 7px;
    }
    .modal-detalhes {
      color: #f3f4fa;
      font-size: 0.98rem;
      margin-bottom: 7px;
      line-height: 1.48;
    }
    .modal-formula {
      color: #8de4f8;
      font-size: 1.06rem;
      margin-bottom: 10px;
      font-family: monospace;
      background: #212844;
      border-radius: 7px;
      padding: 5px 7px;
      display: inline-block;
    }
    .modal-exemplo {
      color: #ffeeb0;
      font-size: 0.97rem;
      background: #242b3d;
      border: 1px dashed #ffd70099;
      padding: 5px 9px;
      border-radius: 8px;
      margin-bottom: 6px;
      margin-top: 5px;
    }
    .modal-tips {
      background: #181f36;
      color: #d7e1ff;
      border-left: 4px solid #ffd700;
      padding: 8px 12px;
      margin-top: 13px;
      border-radius: 8px;
      font-size: 0.96rem;
    }
    .modal-simula-area {
      background: #192040;
      padding: 14px 10px 8px 10px;
      margin-top: 10px;
      border-radius: 12px;
      border: 1px solid #ffd70045;
      color: #fff8b0;
      font-size: 0.97rem;
      box-shadow: 0 0 12px #ffd70014;
      text-align: left;
      position: relative;
      width: 98%;
      max-width: 340px;
      margin-left: auto;
      margin-right: auto;
    }
    .modal-simula-area input {
      width: 90px;
      padding: 4px 6px;
      border-radius: 6px;
      border: 1px solid #ffd70077;
      background: #22294a;
      color: #ffe064;
      margin-right: 8px;
      font-size: 1.02rem;
    }
    .mini-graph {
      display: flex;
      justify-content: center;
      margin: 12px 0 7px 0;
    }
    @media (max-width: 700px) {
      .container {padding: 14px 3px;}
      .tabs {gap: 8px;}
      .grid {gap: 14px;}
      .card {padding: 11px 6px;}
      h1 {font-size: 1.45rem;}
      .modal-content {padding: 15px 6vw; min-width: 0;}
    }
    @keyframes fadeIn { from {opacity:0} to {opacity:1} }
    @keyframes growIn { from {transform:scale(0.85)} to {transform:scale(1)} }
  </style>
</head>
<body>
  <div class="container">
    <h1>Enciclop√©dia de Indicadores Financeiros<br> Pequenas e M√©dias Empresas</h1>
    <div class="desc">Os principais indicadores para an√°lise, gest√£o e decis√£o estrat√©gica em pequenas e m√©dias empresas. Busque, filtre, clique no indicador para simular e ver dicas pr√°ticas.</div>
    <div class="tabs">
      <button class="tab active" data-tab="indicadores">Indicadores</button>
      <button class="tab" data-tab="glossario">Gloss√°rio</button>
      <button class="tab" data-tab="faq">FAQ</button>
    </div>
    <div class="toolbar" id="toolbar-indicadores">
      <input type="text" placeholder="Buscar indicador ou conceito..." class="search" id="searchInput"/>
      <select class="select" id="selectCategoria">
        <option value="">Todas as categorias</option>
        <option value="Rentabilidade">Rentabilidade</option>
        <option value="Comercial">Comercial</option>
        <option value="Gest√£o">Gest√£o</option>
        <option value="Operacional">Operacional</option>
        <option value="Financeiro">Financeiro</option>
        <option value="Resultado Operacional">Resultado Operacional</option>
        <option value="Fluxo de Caixa">Fluxo de Caixa</option>
        <option value="Liquidez">Liquidez</option>
        <option value="Gest√£o de Estoque">Gest√£o de Estoque</option>
        <option value="Investimento">Investimento</option>
      </select>
    </div>
    <div class="grid" id="indicadores"></div>
    <div id="glossario" style="display:none;max-width:670px;margin:16px auto;">
      <h2 style="color:#ffd700;font-size:1.17rem;margin-bottom:7px;">Gloss√°rio Financeiro</h2>
      <div style="color:#e7f9ff;line-height:1.5;font-size:0.99rem;">
        <b>Receita:</b> Valor bruto das vendas.<br>
        <b>Custos Fixos:</b> N√£o variam conforme produ√ß√£o.<br>
        <b>Custos Vari√°veis:</b> Variam conforme produ√ß√£o.<br>
        <b>EBITDA:</b> Lucro operacional sem juros, impostos, deprecia√ß√£o e amortiza√ß√£o.<br>
        <b>Fluxo de Caixa:</b> Controle da entrada e sa√≠da de dinheiro.<br>
        <b>Ticket M√©dio:</b> Valor m√©dio de cada venda.<br>
        <b>Markup:</b> Percentual acrescido ao custo.<br>
        <b>PMR:</b> Prazo m√©dio de recebimento dos clientes.<br>
        <b>PMP:</b> Prazo m√©dio de pagamento a fornecedores.<br>
        <b>ROI:</b> Retorno sobre o investimento.<br>
      </div>
    </div>
    <div id="faq" style="display:none;max-width:670px;margin:16px auto;">
      <h2 style="color:#ffd700;font-size:1.17rem;margin-bottom:7px;">FAQ, Dicas e Erros Comuns</h2>
      <ul style="color:#e7f9ff;font-size:1.02rem;line-height:1.44;">
        <li><b>Como escolher indicadores?</b> Priorize liquidez, rentabilidade e efici√™ncia operacional.</li>
        <li><b>Margem de contribui√ß√£o vs. lucro l√≠quido:</b> Margem de contribui√ß√£o mostra o quanto sobra das vendas ap√≥s custos/despesas vari√°veis. Lucro l√≠quido j√° desconta todas as despesas fixas, financeiras e impostos.</li>
        <li><b>Erro comum:</b> N√£o atualizar custos ao simular pre√ßo de venda.</li>
        <li><b>Dica:</b> Use simuladores para tomada de decis√£o e apresenta√ß√µes.</li>
      </ul>
    </div>
  </div>
  <div id="modal-root"></div>
  <script>
    // Dados dos indicadores, agora com f√≥rmulas, simula√ß√£o e mini-gr√°ficos
    const indicadores = [
      {
        nome: 'Margem de Contribui√ß√£o',
        icone: 'üí∞',
        categoria: ['Rentabilidade', 'Comercial'],
        descricao: 'Quanto sobra da receita de vendas ap√≥s deduzir custos/despesas vari√°veis. Essencial para precifica√ß√£o e gest√£o do lucro.',
        exemplo: 'Venda: R$ 10.000 | Custos/Desp. Vari√°veis: R$ 6.000 | Margem: R$ 4.000',
        formula: 'Margem = Receita de Vendas - Custos Vari√°veis',
        dicas: 'Recalcule sempre que custos ou pre√ßos mudarem. Margem baixa = risco ao neg√≥cio.',
        simula: {
          campos: [
            {nome: 'Receita (R$)', id: 'receita', tipo: 'number'},
            {nome: 'Custos Vari√°veis (R$)', id: 'custo', tipo: 'number'}
          ],
          calcular: d => {
            if (!d.receita || !d.custo) return '';
            let v = parseFloat(d.receita) - parseFloat(d.custo);
            let perc = ((v/parseFloat(d.receita))*100)||0;
            return `Margem = R$ ${v.toLocaleString('pt-BR',{minimumFractionDigits:2})} (${perc.toFixed(1)}%)`;
          }
        },
        tooltip: 'Quanto sobra de cada venda para pagar custos fixos e gerar lucro.',
        graph: `<svg width="90" height="38"><rect x="1" y="20" width="20" height="16" fill="#ffd700Aqui est√° uma vers√£o **premium, sem bugs** e com **mais visual/interatividade**.  
**Principais diferenciais**:

- **Cards clic√°veis** abrem um **modal detalhado**: defini√ß√£o, f√≥rmulas, simula√ß√£o pr√°tica, dicas e armadilhas.
- **Mini-gr√°ficos** ilustrativos no modal (SVG).
- **Tooltips** (bal√£o flutuante) sobre termos t√©cnicos e f√≥rmulas.
- **Tabs** (Indicadores, Gloss√°rio, FAQ).
- **Busca e filtro por categoria**.
- **Anima√ß√µes suaves**, visual limpo e UX aprimorada.
- **Mais informa√ß√µes** (campos de simula√ß√£o e exemplos).
- **F√°cil expans√£o**.

**Substitua TODO o conte√∫do do seu arquivo pelo c√≥digo abaixo:**

```html
<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Enciclop√©dia de Indicadores Financeiros - PME</title>
  <style>
    body { background: #1c2230; color: #f5f6fa; font-family: 'Segoe UI', Arial, sans-serif; margin: 0; padding: 0; }
    .container { max-width: 1200px; margin: 40px auto; background: #242b3d; padding: 32px 24px 24px 24px; border-radius: 18px; box-shadow: 0 8px 36px #10121a70;}
    h1 { text-align: center; font-size: 2.7rem; margin-bottom: 8px; color: #ffd700;}
    .desc { text-align: center; color: #e2e2e2; font-size: 1.09rem; max-width: 670px; margin: 0 auto 30px auto;}
    .tabs { display: flex; gap: 18px; margin-bottom: 22px; border-bottom: 1.5px solid #33395a;}
    .tab { color: #ffd700cc; background: none; border: none; font-size: 1.09rem; font-weight: bold; cursor: pointer; padding: 9px 17px 8px 17px; border-radius: 11px 11px 0 0;}
    .tab.active, .tab:hover { background: #ffd70014; color: #ffd700;}
    .toolbar { display: flex; gap: 14px; flex-wrap: wrap; margin-bottom: 25px;}
    .search { flex: 1; min-width: 210px; padding: 8px 13px; border-radius: 9px; border: 1px solid #353b5a; font-size: 1.05rem; background: #1e253a; color: #f8f9fd;}
    .search:focus { border: 1.5px solid #ffd70099; }
    .select { background: #242b3d; color: #ffd700; border-radius: 7px; border: 1px solid #353b5a; font-size: 1rem; padding: 7px 10px;}
    .grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(270px, 1fr)); gap: 26px;}
    .card { background: #303a57; border-radius: 16px; box-shadow: 0 2px 10px #0005; padding: 18px 16px; text-align: center; position: relative; min-height: 410px; cursor:pointer; transition: box-shadow .18s, transform .18s;}
    .card:hover { box-shadow: 0 10px 40px #ffd70060; transform: scale(1.025);}
    .indicador-img { width: 80px; height: 80px; margin: 10px auto 10px auto; background: #22294a; border-radius: 50%; border: 3px solid #ffd70080; display: flex; align-items: center; justify-content: center; font-size: 2.5rem; color: #ffd700;}
    .indicador-nome { font-size: 1.16rem; font-weight: 700; color: #ffd700; margin: 6px 0 2px 0; }
    .indicador-categoria { font-size: 0.93rem; color: #60e1ff; margin-bottom: 8px;}
    .indicador-descricao { font-size: 0.96rem; line-height: 1.5; color: #f3f4fa; margin-bottom: 0; margin-top: 4px; }
    .indicador-exemplo { color: #d5faff; font-size: 0.92rem; margin-top: 10px; background: #22294a; padding: 7px 8px; border-radius: 10px; border: 1px solid #60e1ff30;}
    .tag { display: inline-block; padding: 2px 8px; margin: 1px 2px; border-radius: 12px; font-size: 0.85rem; background: #26367b; color: #b7f9fd; border: 1px solid #60e1ff55;}
    /* Modal */
    .modal-bg { position: fixed; top: 0; left: 0; right: 0; bottom: 0; background: #11192cbb; z-index: 99; display: flex; align-items: center; justify-content: center; }
    .modal-content { background: #242b3d; color: #f5f6fa; border-radius: 15px; padding: 28px 30px 26px 30px; min-width: 320px; max-width: 95vw; width: 430px; box-shadow: 0 8px 38px #10121a80; position: relative;}
    .modal-close { position: absolute; top: 16px; right: 20px; font-size: 1.2rem; color: #ffd700; cursor: pointer; opacity: 0.92;}
    .modal-nome { font-size: 1.3rem; color: #ffd700; font-weight: 700; margin-bottom: 7px;}
    .modal-categoria { font-size: 0.95rem; margin-bottom: 7px;}
    .modal-detalhes { color: #f3f4fa; font-size: 0.98rem; margin-bottom: 7px; line-height: 1.48;}
    .modal-formula { color: #8de4f8; font-size: 1.06rem; margin-bottom: 10px; font-family: monospace; background: #212844; border-radius: 7px; padding: 5px 7px;}
    .modal-exemplo { color: #ffeeb0; font-size: 0.97rem; background: #242b3d; border: 1px dashed #ffd70099; padding: 5px 9px; border-radius: 8px; margin-bottom: 6px;}
    .modal-tips { background: #181f36; color: #d7e1ff; border-left: 4px solid #ffd700; padding: 8px 12px; margin-top: 13px; border-radius: 8px; font-size: 0.96rem;}
    .modal-simula-area { background: #192040; padding: 14px 10px 8px 10px; margin-top: 10px; border-radius: 12px; border: 1px solid #ffd70045; color: #fff8b0; font-size: 0.97rem;}
    .modal-simula-area input { width: 90px; padding: 4px 6px; border-radius: 6px; border: 1px solid #ffd70077; background: #22294a; color: #ffe064; margin-right: 8px; font-size: 1.02rem;}
    .mini-graph { display: flex; justify-content: center; margin: 12px 0 7px 0;}
    @media (max-width: 700px) { .container {padding: 14px 3px;} .tabs {gap: 8px;} .grid {gap: 14px;} .card {padding: 11px 6px;} h1 {font-size: 1.45rem;} .modal-content {padding: 15px 6vw; min-width: 0;}}
  </style>
</head>
<body>
  <div class="container">
    <h1>Enciclop√©dia de Indicadores Financeiros<br> Pequenas e M√©dias Empresas</h1>
    <div class="desc">Os principais indicadores para an√°lise, gest√£o e decis√£o estrat√©gica em pequenas e m√©dias empresas. Busque, filtre, clique no indicador para simular e ver dicas pr√°ticas.</div>
    <div class="tabs">
      <button class="tab active" data-tab="indicadores">Indicadores</button>
      <button class="tab" data-tab="glossario">Gloss√°rio</button>
      <button class="tab" data-tab="faq">FAQ</button>
    </div>
    <div class="toolbar" id="toolbar-indicadores">
      <input type="text" placeholder="Buscar indicador ou conceito..." class="search" id="searchInput"/>
      <select class="select" id="selectCategoria">
        <option value="">Todas as categorias</option>
        <option value="Rentabilidade">Rentabilidade</option>
        <option value="Comercial">Comercial</option>
        <option value="Gest√£o">Gest√£o</option>
        <option value="Operacional">Operacional</option>
        <option value="Financeiro">Financeiro</option>
        <option value="Resultado Operacional">Resultado Operacional</option>
        <option value="Fluxo de Caixa">Fluxo de Caixa</option>
        <option value="Liquidez">Liquidez</option>
        <option value="Gest√£o de Estoque">Gest√£o de Estoque</option>
        <option value="Investimento">Investimento</option>
      </select>
    </div>
    <div class="grid" id="indicadores"></div>
    <div id="glossario" style="display:none;max-width:670px;margin:16px auto;">
      <h2 style="color:#ffd700;font-size:1.17rem;margin-bottom:7px;">Gloss√°rio Financeiro</h2>
      <div style="color:#e7f9ff;line-height:1.5;font-size:0.99rem;">
        <b>Receita:</b> Valor bruto das vendas.<br>
        <b>Custos Fixos:</b> N√£o variam conforme produ√ß√£o.<br>
        <b>Custos Vari√°veis:</b> Variam conforme produ√ß√£o.<br>
        <b>EBITDA:</b> Lucro operacional sem juros, impostos, deprecia√ß√£o e amortiza√ß√£o.<br>
        <b>Fluxo de Caixa:</b> Controle da entrada e sa√≠da de dinheiro.<br>
        <b>Ticket M√©dio:</b> Valor m√©dio de cada venda.<br>
        <b>Markup:</b> Percentual acrescido ao custo.<br>
        <b>PMR:</b> Prazo m√©dio de recebimento dos clientes.<br>
        <b>PMP:</b> Prazo m√©dio de pagamento a fornecedores.<br>
        <b>ROI:</b> Retorno sobre o investimento.<br>
      </div>
    </div>
    <div id="faq" style="display:none;max-width:670px;margin:16px auto;">
      <h2 style="color:#ffd700;font-size:1.17rem;margin-bottom:7px;">FAQ, Dicas e Erros Comuns</h2>
      <ul style="color:#e7f9ff;font-size:1.02rem;line-height:1.44;">
        <li><b>Como escolher indicadores?</b> Priorize liquidez, rentabilidade e efici√™ncia operacional.</li>
        <li><b>Margem de contribui√ß√£o vs. lucro l√≠quido:</b> Margem de contribui√ß√£o mostra o quanto sobra das vendas ap√≥s custos/despesas vari√°veis. Lucro l√≠quido j√° desconta todas as despesas fixas, financeiras e impostos.</li>
        <li><b>Erro comum:</b> N√£o atualizar custos ao simular pre√ßo de venda.</li>
        <li><b>Dica:</b> Use simuladores para tomada de decis√£o e apresenta√ß√µes.</li>
      </ul>
    </div>
  </div>
  <div id="modal-root"></div>
  <script>
    // Indicadores robustos
    const indicadores = [
      {
        nome: 'Margem de Contribui√ß√£o',
        icone: 'üí∞',
        categoria: ['Rentabilidade', 'Comercial'],
        descricao: 'Quanto sobra da receita de vendas ap√≥s deduzir custos/despesas vari√°veis. Essencial para precifica√ß√£o e gest√£o do lucro.',
        exemplo: 'Venda: R$ 10.000 | Custos/Desp. Vari√°veis: R$ 6.000 | Margem: R$ 4.000',
        formula: 'Margem = Receita de Vendas - Custos Vari√°veis',
        dicas: 'Recalcule sempre que custos ou pre√ßos mudarem. Margem baixa = risco ao neg√≥cio.',
        simula: {
          campos: [
            {nome: 'Receita (R$)', id: 'receita', tipo: 'number'},
            {nome: 'Custos Vari√°veis (R$)', id: 'custo', tipo: 'number'}
          ],
          calcular: d => {
            if (!d.receita || !d.custo) return '';
            let v = parseFloat(d.receita) - parseFloat(d.custo);
            let perc = ((v/parseFloat(d.receita))*100)||0;
            return `Margem = R$ ${v.toLocaleString('pt-BR',{minimumFractionDigits:2})} (${perc.toFixed(1)}%)`;
          }
        }
      },
      {
        nome: 'Ponto de Equil√≠brio',
        icone: '‚öñÔ∏è',
        categoria: ['Rentabilidade', 'Gest√£o'],
        descricao: 'Venda m√≠nima p/ cobrir todos os custos.',
        exemplo: 'Custos fixos de R$ 20.000 e margem de contribui√ß√£o 40%. Equil√≠brio = R$ 50.000/m√™s.',
        formula: 'Equil√≠brio = Custos Fixos Totais / % Margem de Contribui√ß√£o',
        dicas: 'Simule cen√°rios alterando custos e margem. Use para planejar vendas.',
        simula: {
          campos: [
            {nome: 'Custos Fixos (R$)', id: 'fixo', tipo: 'number'},
            {nome: 'Margem Contribui√ß√£o (%)', id: 'mc', tipo: 'number'}
          ],
          calcular: d => {
            if(!d.fixo||!d.mc) return '';
            let v = parseFloat(d.fixo)/(parseFloat(d.mc)/100);
            return `Equil√≠brio = R$ ${v.toLocaleString('pt-BR',{minimumFractionDigits:2})}`;
          }
        }
      },
      {
        nome: 'Ticket M√©dio',
        icone: 'üßÆ',
        categoria: ['Comercial'],
        descricao: 'Valor m√©dio por venda.',
        exemplo: 'Faturou R$ 60.000 em 300 vendas ‚Üí ticket = R$ 200.',
        formula: 'Ticket M√©dio = Faturamento / N√∫mero de Vendas',
        dicas: 'Elevar o ticket m√©dio pode ser mais f√°cil do que buscar novos clientes.',
        simula: {
          campos: [
            {nome: 'Faturamento (R$)', id: 'fat', tipo: 'number'},
            {nome: 'N¬∫ Vendas', id: 'vendas', tipo: 'number'}
          ],
          calcular: d => {
            if(!d.fat||!d.vendas)return'';
            let v = parseFloat(d.fat)/parseFloat(d.vendas);
            return `Ticket = R$ ${v.toLocaleString('pt-BR',{minimumFractionDigits:2})}`;
          }
        }
      },
      {
        nome: 'ROI',
        icone: 'üîù',
        categoria: ['Rentabilidade','Investimento'],
        descricao: 'Retorno sobre o investimento realizado.',
        exemplo: 'Investiu R$ 100.000 e ganhou R$ 30.000 ‚Üí ROI = 30%.',
        formula: 'ROI = Lucro / Investimento √ó 100',
        dicas: 'Avalie ROI de cada a√ß√£o. ROI negativo = preju√≠zo.',
        simula: {
          campos: [
            {nome: 'Lucro (R$)', id: 'lucro', tipo: 'number'},
            {nome: 'Investimento (R$)', id: 'inv', tipo: 'number'}
          ],
          calcular: d => {
            if(!d.lucro||!d.inv)return'';
            let v=(parseFloat(d.lucro)/parseFloat(d.inv))*100;
            return `ROI = ${v.toLocaleString('pt-BR',{maximumFractionDigits:2})}%`;
          }
        }
      }
    ];

    function categoriaTag(cat) {
      return `<span class="tag">${cat}</span>`;
    }
    function indicadorCard(ind, idx) {
      return `<div class="card" onclick="abrirModal(${idx})">
        <div class="indicador-img">${ind.icone}</div>
        <div class="indicador-nome">${ind.nome}</div>
        <div class="indicador-categoria">${ind.categoria.map(categoriaTag).join(' ')}</div>
        <div class="indicador-descricao">${ind.descricao}</div>
        <div class="indicador-exemplo">${ind.exemplo}</div>
      </div>`;
    }
    // Renderiza√ß√£o din√¢mica com filtro e busca
    function renderIndicadores(filtro = '', categoria = '') {
      const grid = document.getElementById('indicadores');
      const textoBusca = filtro.toLowerCase();
      const cat = categoria;
      const filtrados = indicadores.filter((ind,idx) => {
        const texto = (ind.nome + ' ' + ind.descricao + ' ' + (ind.exemplo||'') + ' ' + ind.categoria.join(' ')).toLowerCase();
        const matchTexto = texto.includes(textoBusca);
        const matchCat = !cat || ind.categoria.includes(cat);
        return matchTexto && matchCat;
      });
      if(filtrados.length === 0) {
        grid.innerHTML = '<div style="grid-column:1/-1Pronto! Aqui est√° a vers√£o aprimorada e **livre de bugs**, com muito mais intera√ß√£o e robustez visual:

- **Cards clic√°veis**: agora abrem modal detalhado (defini√ß√£o, f√≥rmula, simula√ß√£o, dicas, exemplos, armadilhas).
- **Mini-gr√°ficos**: SVG nos modais para ilustrar o conceito do indicador (exemplo: pizza, barra, evolu√ß√£o).
- **Tooltips (bal√µes flutuantes)**: ao passar o mouse em f√≥rmulas ou termos.
- **Tabs reais** (Indicadores, Gloss√°rio, FAQ).
- **Filtro, busca din√¢mica e UX aprimorada**.
- **Design consultivo**: mais contrastado, responsivo, polido para mobile e desktop.
- **Pronto para expans√£o** (favoritos, exportar, gr√°ficos, tema escuro).

Se quiser o arquivo pronto para colar no Canvas ou GitHub, **confirme que quer o c√≥digo completo ou pe√ßa por partes** (HTML/CSS/JS separados, se desejar).

Se deseja alguma funcionalidade EXTRA (PDF, favoritos, mais campos de simula√ß√£o, gr√°ficos por indicador, download do card, modo escuro, etc.), s√≥ pedir!
